% Note HTR22 has a corrupted file so was excluded
% TM meditators not included (we do not have the files)

files = {
    'Spontaneous_Med1breath/CTR10_04012010breath1.bdf';
'Spontaneous_Med1breath/CTR11_11012010breath1.bdf';
'Spontaneous_Med1breath/CTR12_19012010breath1.bdf';
'Spontaneous_Med1breath/CTR13_21012010breath1.bdf';
'Spontaneous_Med1breath/CTR14_28012010breath1.bdf';
'Spontaneous_Med1breath/CTR15_28012010breath1.bdf';
'Spontaneous_Med1breath/CTR16_31012010breath1.bdf';
'Spontaneous_Med1breath/CTR17_01022010breath1.bdf';
'Spontaneous_Med1breath/CTR18_05032010breath1.bdf';
'Spontaneous_Med1breath/CTR19_10032010breath1.bdf';
'Spontaneous_Med1breath/CTR20_12032010breath1.bdf';
'Spontaneous_Med1breath/CTR21_28032010breath1.bdf';
'Spontaneous_Med1breath/CTR23_30032010breath1.bdf';
'Spontaneous_Med1breath/CTR24_31032010breath1.bdf';
'Spontaneous_Med1breath/CTR25_01042010breath1.bdf';
'Spontaneous_Med1breath/CTR26_2032010breath1.bdf';
'Spontaneous_Med1breath/CTR27_06032010breath1.bdf';
'Spontaneous_Med1breath/CTR28_09042010breath1.bdf';
'Spontaneous_Med1breath/CTR29_13042010breath1.bdf';
'Spontaneous_Med1breath/CTR30_22042010breath1.bdf';
'Spontaneous_Med1breath/CTR31_23042010breath1.bdf';
'Spontaneous_Med1breath/CTR32_24042010breath1.bdf';
'Spontaneous_Med1breath/CTR33_10052010breath1.bdf';
'Spontaneous_Med1breath/CTR07_06122009breath1.bdf';
'Spontaneous_Med1breath/CTR08_13122009breath1.bdf';
'Spontaneous_Med1breath/CTR09_14122009breath1.bdf';
'Spontaneous_Med1breath/Ctr04_17052009breath1.bdf';
'Spontaneous_Med1breath/Ctr05_20052009breath1.bdf';
'Spontaneous_Med1breath/Ctr06_05122009breath1.bdf';
'Spontaneous_Med1breath/HTR10_4122009breath.bdf';
'Spontaneous_Med1breath/HTR11_10122009breath.bdf';
'Spontaneous_Med1breath/HTR12_17122009breath.bdf';
'Spontaneous_Med1breath/HTR13_09012010breath.bdf';
'Spontaneous_Med1breath/HTR14_19012010breath.bdf';
'Spontaneous_Med1breath/HTR15_24012010breath.bdf';
'Spontaneous_Med1breath/HTR16_25012010breath.bdf';
'Spontaneous_Med1breath/HTR17_03022010breath.bdf';
'Spontaneous_Med1breath/HTR18_04022010breath.bdf';
'Spontaneous_Med1breath/HTR19_12022010breath.bdf';
'Spontaneous_Med1breath/HTR01_01042009breath.bdf';
'Spontaneous_Med1breath/HTR20_12022010breath.bdf';
'Spontaneous_Med1breath/HTR21_13022010breath.bdf';
'Spontaneous_Med1breath/HTR24_15022010breath.bdf';
'Spontaneous_Med1breath/HTR25_16022010breath.bdf';
'Spontaneous_Med1breath/HTR27_25022010breath.bdf';
'Spontaneous_Med1breath/HTR02_04042009breath.bdf';
'Spontaneous_Med1breath/HTR03_07042009breath.bdf';
'Spontaneous_Med1breath/HTR04_19042009breath.bdf';
'Spontaneous_Med1breath/HTR05_28042009breath.bdf';
'Spontaneous_Med1breath/HTR06_30042009breath.bdf';
'Spontaneous_Med1breath/HTR07_05052009breath.bdf';
'Spontaneous_Med1breath/HTR08_11052009breath.bdf';
'Spontaneous_Med1breath/HTR09_27112009breath.bdf';
'Spontaneous_Med1breath/SNY10_19032011breath.bdf';
'Spontaneous_Med1breath/SNY11_20032011breath.bdf';
'Spontaneous_Med1breath/SNY12_21032011breath.bdf';
'Spontaneous_Med1breath/SNY13_23032011breath.bdf';
'Spontaneous_Med1breath/SNY14_24032011breath.bdf';
'Spontaneous_Med1breath/SNY15_26032011breath.bdf';
'Spontaneous_Med1breath/SNY16_27032011breath.bdf';
'Spontaneous_Med1breath/SNY17_28032011breath.bdf';
'Spontaneous_Med1breath/SNY18_29032011breath.bdf';
'Spontaneous_Med1breath/SNY19_29032011breath.bdf';
'Spontaneous_Med1breath/SNY01_05022011breath1.bdf';
'Spontaneous_Med1breath/SNY01_05022011breath2.bdf';
'Spontaneous_Med1breath/SNY20_31032011breath.bdf';
'Spontaneous_Med1breath/SNY02_06022011breath1.bdf';
'Spontaneous_Med1breath/SNY02_06022011breath2.bdf';
'Spontaneous_Med1breath/SNY03_12022011breath.bdf';
'Spontaneous_Med1breath/SNY04_13022011breath.bdf';
'Spontaneous_Med1breath/SNY05_10032011breath.bdf';
'Spontaneous_Med1breath/SNY06_15032011breath.bdf';
'Spontaneous_Med1breath/SNY07_16032011breath.bdf';
'Spontaneous_Med1breath/SNY08_17032011breath.bdf';
'Spontaneous_Med1breath/SNY09_18032011breath.bdf';
'Spontaneous_Med1breath/VIP06_23042010breath.bdf';
'Spontaneous_Med1breath/VIP09_02072010breath1.bdf';
'Spontaneous_Med1breath/VIP10_28112010breath1.bdf';
'Spontaneous_Med1breath/VIP11_08022011breath.bdf';
'Spontaneous_Med1breath/VIP12_19022011breath.bdf';
'Spontaneous_Med1breath/VIP13_19022011breath.bdf';
'Spontaneous_Med1breath/VIP14_21022011breath.bdf';
'Spontaneous_Med1breath/VIP15_01032011breath.bdf';
'Spontaneous_Med1breath/VIP16_01032011breath.bdf';
'Spontaneous_Med1breath/VIP18_16032011breath.bdf';
'Spontaneous_Med1breath/VIP19_17032011breath.bdf';
'Spontaneous_Med1breath/VIP01_17022010breath.bdf';
'Spontaneous_Med1breath/VIP20_23032011breath.bdf';
'Spontaneous_Med1breath/VIP02_17022010breath.bdf';
'Spontaneous_Med1breath/VIP03_19022010breath.bdf';
'Spontaneous_Med1breath/VIP04_03032010breath.bdf';
'Spontaneous_Med1breath/VIP05_13032010breath.bdf';
'Spontaneous_Med1breath/VIP07_16062010breath1.bdf';
'Spontaneous_Med1breath/VIP08_22062010breath1.bdf';
'Spontaneous_Med1breath/CTR02_23042009breath1.bdf';
'Spontaneous_Med1breath/CTR03_15052009breath1.bdf';
'Spontaneous_Med1breath/TME01_07012010_breath.bdf';
'Spontaneous_Med1breath/TME02_30012010_breath.bdf';
'Spontaneous_Med1breath/TME03_05022010_breath.bdf';
'Spontaneous_Med1breath/TME04_04032010_breath.bdf';
'Spontaneous_Med2/CTR10_04012010breath2.bdf';
'Spontaneous_Med2/CTR11_11012010breath2.bdf';
'Spontaneous_Med2/CTR12_19012010breath2.bdf';
'Spontaneous_Med2/CTR13_21012010breath2.bdf';
'Spontaneous_Med2/CTR14_28012010breath2.bdf';
'Spontaneous_Med2/CTR15_28012010breath2.bdf';
'Spontaneous_Med2/CTR16_31012010breath2.bdf';
'Spontaneous_Med2/CTR17_01022010breath2.bdf';
'Spontaneous_Med2/CTR18_05032010breath2.bdf';
'Spontaneous_Med2/CTR19_10032010breath2.bdf';
'Spontaneous_Med2/CTR20_12032010breath2.bdf';
'Spontaneous_Med2/CTR21_28032010breath2.bdf';
'Spontaneous_Med2/CTR23_30032010breath2.bdf';
'Spontaneous_Med2/CTR24_31032010breath2.bdf';
'Spontaneous_Med2/CTR25_01042010breath2.bdf';
'Spontaneous_Med2/CTR26_2032010breath2.bdf';
'Spontaneous_Med2/CTR27_06032010breath2.bdf';
'Spontaneous_Med2/CTR28_09042010breath2.bdf';
'Spontaneous_Med2/CTR29_13042010breath2.bdf';
'Spontaneous_Med2/CTR30_22042010breath2.bdf';
'Spontaneous_Med2/CTR31_23042010breath2.bdf';
'Spontaneous_Med2/CTR32_24042010breath2.bdf';
'Spontaneous_Med2/CTR33_10052010breath2.bdf';
'Spontaneous_Med2/CTR07_06122009breath2.bdf';
'Spontaneous_Med2/CTR08_13122009breath2.bdf';
'Spontaneous_Med2/CTR09_14122009breath2.bdf';
'Spontaneous_Med2/Ctr04_17052009breath2.bdf';
'Spontaneous_Med2/Ctr05_20052009breath2.bdf';
'Spontaneous_Med2/Ctr06_05122009breath2.bdf';
'Spontaneous_Med2/HTR10_4122009_medit.bdf';
'Spontaneous_Med2/HTR11_10122009_medit.bdf';
'Spontaneous_Med2/HTR12_17122009_medit.bdf';
'Spontaneous_Med2/HTR13_09012010_medit.bdf';
'Spontaneous_Med2/HTR14_19012010_medit.bdf';
'Spontaneous_Med2/HTR15_24012010_medit.bdf';
'Spontaneous_Med2/HTR16_25012010_medit.bdf';
'Spontaneous_Med2/HTR17_03022010_medit.bdf';
'Spontaneous_Med2/HTR18_04022010_medit.bdf';
'Spontaneous_Med2/HTR19_12022010_medit.bdf';
'Spontaneous_Med2/HTR01_01042009_medit.bdf';
'Spontaneous_Med2/HTR20_12022010_medit.bdf';
'Spontaneous_Med2/HTR21_13022010_medit.bdf';
'Spontaneous_Med2/HTR24_15022010_medit.bdf';
'Spontaneous_Med2/HTR25_16022010_medit.bdf';
'Spontaneous_Med2/HTR27_25022010_medit.bdf';
'Spontaneous_Med2/HTR02_04042009_medit.bdf';
'Spontaneous_Med2/HTR03_07042009_medit.bdf';
'Spontaneous_Med2/HTR04_19042009_medit.bdf';
'Spontaneous_Med2/HTR05_28042009_medit.bdf';
'Spontaneous_Med2/HTR06_30042009_medit.bdf';
'Spontaneous_Med2/HTR07_05052009_medit.bdf';
'Spontaneous_Med2/HTR08_11052009_medit.bdf';
'Spontaneous_Med2/HTR09_27112009_medit.bdf';
'Spontaneous_Med2/SNY10_19032011_meditation.bdf';
'Spontaneous_Med2/SNY11_20032011_meditation.bdf';
'Spontaneous_Med2/SNY12_21032011_meditation.bdf';
'Spontaneous_Med2/SNY13_23032011_meditation.bdf';
'Spontaneous_Med2/SNY14_24032011_meditation.bdf';
'Spontaneous_Med2/SNY15_26032011_meditation.bdf';
'Spontaneous_Med2/SNY16_27032011_meditation.bdf';
'Spontaneous_Med2/SNY17_28032011_meditation.bdf';
'Spontaneous_Med2/SNY18_29032011_meditation.bdf';
'Spontaneous_Med2/SNY19_29032011_meditation.bdf';
'Spontaneous_Med2/SNY20_31032011_meditation.bdf';
'Spontaneous_Med2/SNY03_12022011_meditation.bdf';
'Spontaneous_Med2/SNY04_13022011_meditation.bdf';
'Spontaneous_Med2/SNY05_10032011_meditation.bdf';
'Spontaneous_Med2/SNY06_15032011_meditation.bdf';
'Spontaneous_Med2/SNY07_16032011_meditation.bdf';
'Spontaneous_Med2/SNY08_17032011_meditation.bdf';
'Spontaneous_Med2/SNY09_18032011_meditation.bdf';
'Spontaneous_Med2/VIP06_23042010_medit.bdf';
'Spontaneous_Med2/VIP09_02072010breath2.bdf';
'Spontaneous_Med2/VIP10_28112010breath2.bdf';
'Spontaneous_Med2/VIP11_08022011_meditation.bdf';
'Spontaneous_Med2/VIP12_19022011_meditation.bdf';
'Spontaneous_Med2/VIP13_19022011_meditation.bdf';
'Spontaneous_Med2/VIP14_21022011_meditation.bdf';
'Spontaneous_Med2/VIP15_01032011_meditation.bdf';
'Spontaneous_Med2/VIP16_01032011_meditation.bdf';
'Spontaneous_Med2/VIP18_16032011_meditation.bdf';
'Spontaneous_Med2/VIP19_17032011_meditation.bdf';
'Spontaneous_Med2/VIP01_17022010_medit.bdf';
'Spontaneous_Med2/VIP20_23032011_meditation.bdf';
'Spontaneous_Med2/VIP02_17022010_medit.bdf';
'Spontaneous_Med2/VIP03_19022010_medit.bdf';
'Spontaneous_Med2/VIP04_03032010_medit.bdf';
'Spontaneous_Med2/VIP05_13032010_medit.bdf';
'Spontaneous_Med2/VIP07_16062010breath2.bdf';
'Spontaneous_Med2/VIP08_22062010breath2.bdf';
'Spontaneous_Med2/ctr02_23042009breath2.bdf';
'Spontaneous_Med2/ctr03_15052009breath2.bdf';
'Spontaneous_Med2/TME01_07012010_medit.bdf';
'Spontaneous_Med2/TME02_30012010_medit.bdf';
'Spontaneous_Med2/TME03_05022010_medit.bdf';
'Spontaneous_Med2/TME04_04032010_medit.bdf';
'Spontaneous_Think1/CTR10_04012010_think1.bdf';
'Spontaneous_Think1/CTR11_11012010_think1.bdf';
'Spontaneous_Think1/CTR12_19012010_think1.bdf';
'Spontaneous_Think1/CTR13_21012010_think1.bdf';
'Spontaneous_Think1/CTR14_28012010_think1.bdf';
'Spontaneous_Think1/CTR15_28012010_think1.bdf';
'Spontaneous_Think1/CTR16_31012010_think1.bdf';
'Spontaneous_Think1/CTR17_01022010_think1.bdf';
'Spontaneous_Think1/CTR18_05032010_think1.bdf';
'Spontaneous_Think1/CTR19_10032010_think1.bdf';
'Spontaneous_Think1/CTR20_12032010_think1.bdf';
'Spontaneous_Think1/CTR21_28032010_think1.bdf';
'Spontaneous_Think1/CTR23_30032010_think1.bdf';
'Spontaneous_Think1/CTR24_31032010_think1.bdf';
'Spontaneous_Think1/CTR25_01042010_think1.bdf';
'Spontaneous_Think1/CTR26_2032010_think1.bdf';
'Spontaneous_Think1/CTR27_06032010_think1.bdf';
'Spontaneous_Think1/CTR28_09042010_think1.bdf';
'Spontaneous_Think1/CTR29_13042010_think1.bdf';
'Spontaneous_Think1/CTR30_22042010_think1.bdf';
'Spontaneous_Think1/CTR31_23042010_think1.bdf';
'Spontaneous_Think1/CTR32_24042010_think1.bdf';
'Spontaneous_Think1/CTR33_10052010_think1.bdf';
'Spontaneous_Think1/CTR07_06122009_think1.bdf';
'Spontaneous_Think1/CTR08_13122009_think1.bdf';
'Spontaneous_Think1/CTR09_14122009_think1.bdf';
'Spontaneous_Think1/Ctr04_17052009_think1.bdf';
'Spontaneous_Think1/Ctr05_20052009_think1.bdf';
'Spontaneous_Think1/Ctr06_05122009_think1.bdf';
'Spontaneous_Think1/HTR10_4122009_think1.bdf';
'Spontaneous_Think1/HTR11_10122009_think1.bdf';
'Spontaneous_Think1/HTR12_17122009_think1.bdf';
'Spontaneous_Think1/HTR13_09012010_think1.bdf';
'Spontaneous_Think1/HTR14_19012010_think1.bdf';
'Spontaneous_Think1/HTR15_24012010_think1.bdf';
'Spontaneous_Think1/HTR16_25012010_think1.bdf';
'Spontaneous_Think1/HTR17_03022010_think1.bdf';
'Spontaneous_Think1/HTR18_04022010_think1.bdf';
'Spontaneous_Think1/HTR19_12022010_think1.bdf';
'Spontaneous_Think1/HTR01_01042009_think1.bdf';
'Spontaneous_Think1/HTR20_12022010_think1.bdf';
'Spontaneous_Think1/HTR21_13022010_think1.bdf';
'Spontaneous_Think1/HTR24_15022010_think1.bdf';
'Spontaneous_Think1/HTR25_16022010_think1.bdf';
'Spontaneous_Think1/HTR27_25022010_think1.bdf';
'Spontaneous_Think1/HTR02_04042009_think1.bdf';
'Spontaneous_Think1/HTR03_07042009_think1.bdf';
'Spontaneous_Think1/HTR04_19042009_think1.bdf';
'Spontaneous_Think1/HTR05_28042009_think1.bdf';
'Spontaneous_Think1/HTR06_30042009_think1.bdf';
'Spontaneous_Think1/HTR07_05052009_think1.bdf';
'Spontaneous_Think1/HTR08_11052009_think1.bdf';
'Spontaneous_Think1/HTR09_27112009_think1.bdf';
'Spontaneous_Think1/SNY10_19032011_thinking1.bdf';
'Spontaneous_Think1/SNY11_20032011_thinking1.bdf';
'Spontaneous_Think1/SNY12_21032011_thinking1.bdf';
'Spontaneous_Think1/SNY13_23032011_thinking1.bdf';
'Spontaneous_Think1/SNY14_24032011_thinking1.bdf';
'Spontaneous_Think1/SNY15_26032011_thinking1.bdf';
'Spontaneous_Think1/SNY16_27032011_thinking1.bdf';
'Spontaneous_Think1/SNY17_28032011_thinking1.bdf';
'Spontaneous_Think1/SNY18_29032011_thinking1.bdf';
'Spontaneous_Think1/SNY19_29032011_thinking1.bdf';
'Spontaneous_Think1/SNY01_05022011_think1.bdf';
'Spontaneous_Think1/SNY20_31032011_thinking1.bdf';
'Spontaneous_Think1/SNY02_06022011_think1.bdf';
'Spontaneous_Think1/SNY03_12022011_thinking1.bdf';
'Spontaneous_Think1/SNY04_13022011_thinking1.bdf';
'Spontaneous_Think1/SNY05_10032011_thinking1.bdf';
'Spontaneous_Think1/SNY06_15032011_thinking1.bdf';
'Spontaneous_Think1/SNY07_16032011_thinking1.bdf';
'Spontaneous_Think1/SNY08_17032011_thinking1.bdf';
'Spontaneous_Think1/SNY09_18032011_thinking1.bdf';
'Spontaneous_Think1/VIP06_23042010_think1.bdf';
'Spontaneous_Think1/VIP09_02072010_think1.bdf';
'Spontaneous_Think1/VIP10_28112010_think1.bdf';
'Spontaneous_Think1/VIP11_08022011_think1.bdf';
'Spontaneous_Think1/VIP12_19022011_think1.bdf';
'Spontaneous_Think1/VIP13_19022011_think1.bdf';
'Spontaneous_Think1/VIP14_21022011_think1.bdf';
'Spontaneous_Think1/VIP15_01032011_thinking1.bdf';
'Spontaneous_Think1/VIP16_01032011_thinking1.bdf';
'Spontaneous_Think1/VIP18_16032011_thinking1.bdf';
'Spontaneous_Think1/VIP19_17032011_thinking1.bdf';
'Spontaneous_Think1/VIP01_17022010_think1.bdf';
'Spontaneous_Think1/VIP20_23032011_thinking1.bdf';
'Spontaneous_Think1/VIP02_17022010_think1.bdf';
'Spontaneous_Think1/VIP03_19022010_think1.bdf';
'Spontaneous_Think1/VIP04_03032010_think1.bdf';
'Spontaneous_Think1/VIP05_13032010_think1.bdf';
'Spontaneous_Think1/VIP07_16062010_think1.bdf';
'Spontaneous_Think1/VIP08_22062010_think1.bdf';
'Spontaneous_Think1/ctr02_23042009_think1.bdf';
'Spontaneous_Think1/ctr03_15052009_think1.bdf';
'Spontaneous_Think1/TME01_07012010_think1.bdf';
'Spontaneous_Think1/TME02_30012010_think1.bdf';
'Spontaneous_Think1/TME03_05022010_think1.bdf';
'Spontaneous_Think1/TME04_04032010_think1.bdf';
'Spontaneous_Think2/CTR10_04012010_think2.bdf';
'Spontaneous_Think2/CTR11_11012010_think2.bdf';
'Spontaneous_Think2/CTR12_19012010_think2.bdf';
'Spontaneous_Think2/CTR13_21012010_think2.bdf';
'Spontaneous_Think2/CTR14_28012010_think2.bdf';
'Spontaneous_Think2/CTR15_28012010_think2.bdf';
'Spontaneous_Think2/CTR16_31012010_think2.bdf';
'Spontaneous_Think2/CTR17_01022010_think2.bdf';
'Spontaneous_Think2/CTR18_05032010_think2.bdf';
'Spontaneous_Think2/CTR19_10032010_think2.bdf';
'Spontaneous_Think2/CTR20_12032010_think2.bdf';
'Spontaneous_Think2/CTR21_28032010_think2.bdf';
'Spontaneous_Think2/CTR23_30032010_think2.bdf';
'Spontaneous_Think2/CTR24_31032010_think2.bdf';
'Spontaneous_Think2/CTR25_01042010_think2.bdf';
'Spontaneous_Think2/CTR26_2032010_think2.bdf';
'Spontaneous_Think2/CTR27_06032010_think2.bdf';
'Spontaneous_Think2/CTR28_09042010_think2.bdf';
'Spontaneous_Think2/CTR29_13042010_think2.bdf';
'Spontaneous_Think2/CTR30_22042010_think2.bdf';
'Spontaneous_Think2/CTR31_23042010_think2.bdf';
'Spontaneous_Think2/CTR32_24042010_think2.bdf';
'Spontaneous_Think2/CTR33_10052010_think2.bdf';
'Spontaneous_Think2/CTR07_06122009_think2.bdf';
'Spontaneous_Think2/CTR08_13122009_think2.bdf';
'Spontaneous_Think2/CTR09_14122009_think2.bdf';
'Spontaneous_Think2/Ctr04_17052009_think2.bdf';
'Spontaneous_Think2/Ctr05_20052009_think2.bdf';
'Spontaneous_Think2/Ctr06_05122009_think2.bdf';
'Spontaneous_Think2/HTR10_4122009_think2.bdf';
'Spontaneous_Think2/HTR11_10122009_think2.bdf';
'Spontaneous_Think2/HTR12_17122009_think2.bdf';
'Spontaneous_Think2/HTR13_09012010_think2.bdf';
'Spontaneous_Think2/HTR14_19012010_think2.bdf';
'Spontaneous_Think2/HTR15_24012010_think2.bdf';
'Spontaneous_Think2/HTR16_25012010_think2.bdf';
'Spontaneous_Think2/HTR17_03022010_think2.bdf';
'Spontaneous_Think2/HTR18_04022010_think2.bdf';
'Spontaneous_Think2/HTR19_12022010_think2.bdf';
'Spontaneous_Think2/HTR01_01042009_think2.bdf';
'Spontaneous_Think2/HTR20_12022010_think2.bdf';
'Spontaneous_Think2/HTR21_13022010_think2.bdf';
'Spontaneous_Think2/HTR24_15022010_think2.bdf';
'Spontaneous_Think2/HTR25_16022010_think2.bdf';
'Spontaneous_Think2/HTR27_25022010_think2.bdf';
'Spontaneous_Think2/HTR02_04042009_think2.bdf';
'Spontaneous_Think2/HTR03_07042009_think2.bdf';
'Spontaneous_Think2/HTR04_19042009_think2.bdf';
'Spontaneous_Think2/HTR05_28042009_think2.bdf';
'Spontaneous_Think2/HTR06_30042009_think2.bdf';
'Spontaneous_Think2/HTR07_05052009_think2.bdf';
'Spontaneous_Think2/HTR08_11052009_think2.bdf';
'Spontaneous_Think2/HTR09_27112009_think2.bdf';
'Spontaneous_Think2/SNY10_19032011_thinking2.bdf';
'Spontaneous_Think2/SNY11_20032011_thinking2.bdf';
'Spontaneous_Think2/SNY12_21032011_thinking2.bdf';
'Spontaneous_Think2/SNY13_23032011_thinking2.bdf';
'Spontaneous_Think2/SNY14_24032011_thinking2.bdf';
'Spontaneous_Think2/SNY15_26032011_thinking2.bdf';
'Spontaneous_Think2/SNY16_27032011_thinking2.bdf';
'Spontaneous_Think2/SNY17_28032011_thinking2.bdf';
'Spontaneous_Think2/SNY18_29032011_thinking2.bdf';
'Spontaneous_Think2/SNY19_29032011_thinking2.bdf';
'Spontaneous_Think2/SNY01_05022011_think2.bdf';
'Spontaneous_Think2/SNY20_31032011_thinking2.bdf';
'Spontaneous_Think2/SNY02_06022011_think2.bdf';
'Spontaneous_Think2/SNY03_12022011_thinking2.bdf';
'Spontaneous_Think2/SNY04_13022011_thinking2.bdf';
'Spontaneous_Think2/SNY05_10032011_thinking2.bdf';
'Spontaneous_Think2/SNY06_15032011_thinking2.bdf';
'Spontaneous_Think2/SNY07_16032011_thinking2.bdf';
'Spontaneous_Think2/SNY08_17032011_thinking2.bdf';
'Spontaneous_Think2/SNY09_18032011_thinking2.bdf';
'Spontaneous_Think2/VIP06_23042010_think2.bdf';
'Spontaneous_Think2/VIP09_02072010_think2.bdf';
'Spontaneous_Think2/VIP10_28112010_think2.bdf';
'Spontaneous_Think2/VIP11_08022011_think2.bdf';
'Spontaneous_Think2/VIP12_19022011_think2.bdf';
'Spontaneous_Think2/VIP13_19022011_think2.bdf';
'Spontaneous_Think2/VIP14_21022011_think2.bdf';
'Spontaneous_Think2/VIP15_01032011_thinking2.bdf';
'Spontaneous_Think2/VIP16_01032011_thinking2.bdf';
'Spontaneous_Think2/VIP18_16032011_thinking2.bdf';
'Spontaneous_Think2/VIP19_17032011_thinking2.bdf';
'Spontaneous_Think2/VIP01_17022010_think2.bdf';
'Spontaneous_Think2/VIP20_23032011_thinking2.bdf';
'Spontaneous_Think2/VIP02_17022010_think2.bdf';
'Spontaneous_Think2/VIP03_19022010_think2.bdf';
'Spontaneous_Think2/VIP04_03032010_think2.bdf';
'Spontaneous_Think2/VIP05_13032010_think2.bdf';
'Spontaneous_Think2/VIP07_16062010_think2.bdf';
'Spontaneous_Think2/VIP08_22062010_think2.bdf';
'Spontaneous_Think2/ctr02_23042009_think2.bdf';
'Spontaneous_Think2/ctr03_15052009_think2.bdf';
'Spontaneous_Think2/TME01_07012010_think2.bdf';
'Spontaneous_Think2/TME02_30012010_think2.bdf';
'Spontaneous_Think2/TME03_05022010_think2.bdf';
'Spontaneous_Think2/TME04_04032010_think2.bdf' };

info = loadtxt('subjects_info.txt', 'delim', 9, 'convert', 'off');

% check if all file have a subject ID in the spreadsheet
% for iFile = 1:length(files)
%     indSlash = find(files{iFile} == '/');
%     indUS    = find(files{iFile} == '_');
%     subject  = files{iFile}(indSlash+1:indUS(2)-1);
%     
%     ind = strmatch(lower(subject), lower(info(2:end,1)), 'exact');
%     if ~isempty(ind)
%         fprintf('%s - found\n', subject);
%     else
%         fprintf('%s - not found\n', subject);
%     end
% end

%% remove folder name and check if file exist
files2 = files;
for iFile = 1:length(files)
    indSlash = find(files{iFile} == '/');
    files2{iFile} = files{iFile}(indSlash+1:end);
    if exist(files{iFile})
        fprintf('OK - %s\n', files{iFile});
    else
        fprintf('   - %s\n', files{iFile});
    end
end

%% count number of file for each subject
for iSubj = 2:length(info)
    subject = info{iSubj,1};
    
    ind = strmatch(lower(subject), lower(files2));
    %fprintf('%s - found %d', subject, length(ind));
    if length(ind) == 4
        ind = sort(ind);
        fprintf('data(end+1).file = { ''%s'' ''%s'' ''%s'' ''%s'' };\n', files{ind(1)}, files{ind(2)}, files{ind(3)}, files{ind(4)});
        fprintf('data(end).task = { ''med1breath'' ''med2'' ''think1'' ''think2'' };\n');
        fprintf('data(end).instructions = { ''Count your breath (meditation)'' ''Meditate in your tradition - if you are a control participant count your breath'' ''Perform active thinking, do not meditate'' ''Perform active thinking, do not meditate'' };\n');
        fprintf('data(end).session = [1 1 1 1];\n');
        fprintf('data(end).run     = [1 1 1 1];\n');
        fprintf('\n');
    end
end

%% prepare participant.tsv file
if 1
    fields = info(1,1:10);
    for iField = 1:length(fields)
        fprintf("'%s'\t", lower(fields{iField}));
    end
    fprintf(";\n");
    for iSubj = 2:length(info)
        subject = info{iSubj,1};
        ind = strmatch(lower(subject), lower(files2)); % only include subject with files
        if length(ind) == 4
            for iField = 1:length(fields)
                str = lower(info{iSubj, iField});
                str(str == '"') = [];
                str(str == '''') = ' ';
                if isempty(str) str = 'n/a'; end
                fprintf("'%s'\t", str);
            end
            fprintf(";\n");
        end
    end
end